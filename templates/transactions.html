{% extends "base.html" %} {% block title %}Transactions{% endblock%} {% block content %}
<h1 class="title">Transactions</h1>

<form action="/get-transactions" method="post" class="button">
    <button type="submit">Refresh</button>
</form>

<form action="/add-transaction" method="post" class="button">
    <button type="submit">Add a manual transaction</button>
</form>

<table>
    <thead>
        <tr>
            <th>Date</th>
            <th>Symbol</th>
            <th>Type</th>
            <th>Quantity</th>
            <th>Price</th>
            <th>Fee Amount</th>
            <th>CAD Value</th>
        </tr>
    </thead>
    <tbody>
        {% for transaction in transactions %}
        <tr>
            <td>{{ transaction['date'] }}</td>
            <td>{{ transaction['symbol'] }}</td>
            <td>{{ transaction['type'] }}</td>
            <td>{{ transaction['amount'] }} {{ transaction['currency'] }}</td>
            <td>{{ transaction['price'] }} {{ transaction['fee_currency'] }}</td>
            <td>{{ transaction['fee_amount'] }} {{ transaction['fee_currency'] }}</td>
            <td>{{ '%0.2f' | format(transaction['cad_value']|float) }} CAD</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}